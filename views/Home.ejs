<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="/style.css" type="text/css" />
    <title>THE M PROJECT</title>
  </head>
  <body class="">
    <header class="bg-white">
      <div class="container-xxl">
        <div class="row justify-content-between p-4">
          <div class="col-3 text-center">
            <a href="/" class="display-6 text-black">order saver</a>
          </div>
          <div class="col-3">
            <p><%= userToken.email%></p>
            <a href="/si" class="fs-5 me-3">SIGN IN</a
            ><a href="/log-out" class="fs-5 ms-3">LOG-OUT</a>
          </div>
        </div>
      </div>
    </header>

    <div class="">
      <div class="container-lg">
        <div class="row justify-content-between">
          <div class="col-12 col-lg-7">
            <h2 class="mt-5 mb-4">Your orders</h2>
            <p class="N d-none"><%= userToken.id%></p>
            <% for(let orders of order) {%>

            <!-- ejs code -->

            <% if(orders.userID === userToken.id) {%>
            <div class="card border-0 shadow mt-4">
              <div class="card-body">
                <h5 class="card-title text-info">Order</h5>
                <p class="card-text">Name: <%= orders.name%></p>
                <p class="card-text">Phone no:<%= orders.phone%></p>

                <p class="card-text">Product: <%= orders.product%></p>
                <p class="card-text">Ordered at: <%= orders.createdAt%></p>

                <a
                  data-req="/delete/<%= orders.id%>"
                  class="d-inline float-end fs-3 trash"
                >
                  <i class="bi bi-trash3"></i
                ></a>

                <a href="/update/<%= orders.id%>" class="card-link"
                  >Update your order</a
                >
                <a href="/see/<%= orders.id%>" class="card-link"
                  >See what you ordered</a
                >
              </div>
            </div>
            <%}%> <% }%>
          </div>
          <div class="col-12 col-md-8 col-lg-4">
            <h1 class="mt-5 mb-4">Order now</h1>
            <form action="/order" method="post">
              <label for="name" class="form-label">Name:</label>
              <input
                type="text"
                id="name"
                name="name"
                class="form-control border-0"
              />
              <label for="phone" class="form-label">Phone no:</label>
              <input
                type="text"
                id="phone"
                name="phone"
                class="form-control border-0"
              />
              <label for="product" class="form-label">Product:</label>
              <select
                id=" product"
                name="product"
                class="form-select border-0"
                aria-label="Default select example"
              >
                <option selected>select Product</option>
                <option value="Jacket">Jacket</option>
                <option value="bag">bag</option>
                <option value="belt">belt</option>
              </select>
              <label for="many" class="form-label">How many:</label>
              <input
                type="text"
                id="many"
                name="many"
                class="form-control border-0"
              />

              <label for="color" class="form-label">Color:</label>
              <input
                type="text"
                id="color"
                name="color"
                class="form-control border-0"
              />
              <label for="styleM" class="form-label p-2">Styles for men:</label>

              <!-- the name is important for the backend for all data -->
              <select
                id=" styleM"
                name="styleM"
                class="form-select p-2 border-0"
                aria-label="Default select example"
              >
                <option selected>select Product</option>
                <option value="One">One</option>
                <option value="Two">Two</option>
                <option value="Three">Three</option>
              </select>

              <label for="styleW" class="form-label p-2"
                >Styles for women:</label
              >
              <select
                id=" styleW"
                name="styleW"
                class="form-select p-2 border-0"
                aria-label="Default select example"
              >
                <option selected>Select Product</option>
                <option value="One">One</option>
                <option value="Two">Two</option>
                <option value="Three">Three</option>
              </select>
              <label for="userID" class="form-constrol">userID:</label>
              <input type="text" id="userID" name="userID" />
              <input
                class="btn btn-lg btn-outline-info float-end m-3 pe-3"
                type="submit"
                value="submit order"
              />
            </form>
          </div>
        </div>
      </div>
    </div>
    <script>
      const name = document.querySelector(".N").innerHTML;

      document.getElementById("userID").value = name;
    </script>
    <script src="delete.js"></script>
    <script src="bootstrap-5.2.0-dist\js\bootstrap.bundle.js"></script>
  </body>
</html>
